<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgiveness: Cancelling the Debt - Interactive Worksheet</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 15px;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            padding: 20px;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            color: #6f4e37;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .header p {
            font-size: 16px;
            opacity: 0.8;
        }

        .activity {
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 15px;
            background: #f8f9fa;
            border-left: 6px solid #dc3545;
        }

        .activity h3 {
            font-size: 22px;
            margin-bottom: 12px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .activity-description {
            font-size: 15px;
            color: #666;
            margin-bottom: 18px;
            font-style: italic;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #dc3545, #28a745);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Slider for Forgiveness vs Unforgiveness */
        .forgiveness-slider {
            background: white;
            border: 2px solid #dc3545;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
        }

        .slider-container {
            position: relative;
            height: 60px;
            background: linear-gradient(to right, #dc3545 0%, #ffc107 50%, #28a745 100%);
            border-radius: 30px;
            margin: 20px 0;
            cursor: pointer;
        }

        .slider-handle {
            position: absolute;
            top: 5px;
            left: 50%;
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: move;
            transform: translateX(-50%);
            transition: left 0.3s ease;
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-weight: 600;
        }

        .slider-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            display: none;
        }

        /* Memory Match for Three Types of Punishment */
        .punishment-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .punishment-card {
            background: #6f42c1;
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .punishment-card:hover {
            transform: scale(1.05);
        }

        .punishment-card.flipped {
            background: white;
            color: #6f42c1;
            border: 2px solid #6f42c1;
        }

        .punishment-card.matched {
            background: #28a745;
            color: white;
            cursor: default;
        }

        /* True/False Quick Fire */
        .quick-fire {
            margin: 20px 0;
        }

        .tf-statement {
            background: white;
            border: 2px solid #17a2b8;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
        }

        .tf-text {
            font-size: 16px;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .tf-buttons {
            display: flex;
            gap: 10px;
        }

        .tf-btn {
            flex: 1;
            padding: 10px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tf-btn:hover {
            background: #f8f9fa;
        }

        .tf-btn.correct {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        .tf-btn.incorrect {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
        }

        /* Fill in Blanks with Progressive Hints */
        .fill-blank {
            display: inline-block;
            min-width: 120px;
            border-bottom: 2px solid #ffc107;
            margin: 0 5px;
        }

        .fill-blank input {
            border: none;
            background: none;
            width: 100%;
            text-align: center;
            font-size: 16px;
            font-weight: 600;
            outline: none;
            color: #dc3545;
        }

        .hint-btn {
            background: #ffc107;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
            margin-left: 10px;
        }

        .hint {
            background: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            font-size: 14px;
            display: none;
        }

        /* Swipe Learning Cards */
        .swipe-card {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 15px 0;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .swipe-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .swipe-card.revealed {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }

        .card-front {
            font-size: 18px;
            font-weight: 600;
        }

        .card-back {
            display: none;
            font-size: 16px;
            line-height: 1.5;
        }

        .swipe-card.revealed .card-front {
            display: none;
        }

        .swipe-card.revealed .card-back {
            display: block;
        }

        /* Cost Calculator */
        .cost-calculator {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .cost-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
        }

        .cost-label {
            font-weight: 600;
            color: #856404;
        }

        .cost-checkbox {
            width: 24px;
            height: 24px;
            cursor: pointer;
        }

        .cost-total {
            background: #dc3545;
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            margin-top: 15px;
        }

        /* Scenario Sorting */
        .sorting-container {
            margin: 20px 0;
        }

        .sorting-item {
            background: white;
            border: 2px solid #6c757d;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            cursor: move;
            transition: all 0.3s ease;
        }

        .sorting-item.dragging {
            opacity: 0.5;
        }

        .drop-zone {
            border: 2px dashed #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            min-height: 100px;
        }

        .drop-zone.drag-over {
            background: #e3f2fd;
            border-color: #2196f3;
        }

        .drop-zone h4 {
            color: #6c757d;
            margin-bottom: 10px;
        }

        /* Scripture Assembly */
        .word-bank {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            margin: 15px 0;
        }

        .word-tile {
            padding: 8px 12px;
            background: #17a2b8;
            color: white;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .word-tile:hover {
            background: #138496;
            transform: scale(1.05);
        }

        .word-tile.used {
            background: #6c757d;
            opacity: 0.5;
            cursor: default;
        }

        .verse-builder {
            border: 2px solid #17a2b8;
            border-radius: 10px;
            padding: 20px;
            min-height: 80px;
            margin: 15px 0;
            background: white;
        }

        .verse-builder.complete {
            background: #d4edda;
            border-color: #28a745;
        }

        /* Personal Reflection */
        .reflection-box {
            background: #e8f4f8;
            border-left: 4px solid #17a2b8;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .reflection-question {
            font-size: 16px;
            font-weight: 600;
            color: #0c5460;
            margin-bottom: 12px;
        }

        .reflection-input {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            border: 2px solid #bee5eb;
            border-radius: 8px;
            font-size: 15px;
            resize: vertical;
        }

        /* Copy Button */
        .copy-btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-top: 25px;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        /* Feedback */
        .feedback {
            padding: 12px;
            border-radius: 8px;
            margin-top: 12px;
            font-weight: 600;
            text-align: center;
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            display: block;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üíî‚û°Ô∏è‚ù§Ô∏è Forgiveness</h1>
            <p>Cancelling the Debt - Based on Voddie Baucham's Teaching</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressBar"></div>
        </div>

        <!-- Activity 1: Interactive Forgiveness Scale -->
        <div class="activity">
            <h3>‚öñÔ∏è Forgiveness Scale Interactive</h3>
            <div class="activity-description">Drag the slider to see different levels of forgiveness:</div>
            
            <div class="forgiveness-slider">
                <div class="slider-container" onclick="moveSlider(event)">
                    <div class="slider-handle" id="forgivenessHandle">ü§î</div>
                </div>
                <div class="slider-labels">
                    <span style="color: #dc3545;">Unforgiveness</span>
                    <span style="color: #ffc107;">Partial</span>
                    <span style="color: #28a745;">True Forgiveness</span>
                </div>
                <div class="slider-feedback" id="sliderFeedback"></div>
            </div>
        </div>

        <!-- Activity 2: Punishment Method Memory Match -->
        <div class="activity">
            <h3>üéØ Match the Punishment Methods</h3>
            <div class="activity-description">Match each withholding type with its example:</div>
            
            <div class="punishment-grid" id="punishmentGrid">
                <!-- Cards will be generated by JavaScript -->
            </div>
            <div class="feedback" id="matchFeedback"></div>
        </div>

        <!-- Activity 3: True/False Quick Fire -->
        <div class="activity">
            <h3>‚ö° Quick Fire: Myth or Truth?</h3>
            <div class="activity-description">Test your understanding of forgiveness principles:</div>
            
            <div class="quick-fire">
                <div class="tf-statement">
                    <div class="tf-text">Forgiveness means forgetting what happened</div>
                    <div class="tf-buttons">
                        <button class="tf-btn" onclick="checkTF(this, 'myth', 1)">MYTH</button>
                        <button class="tf-btn" onclick="checkTF(this, 'truth', 1)">TRUTH</button>
                    </div>
                </div>

                <div class="tf-statement">
                    <div class="tf-text">Greater intimacy requires greater forgiveness</div>
                    <div class="tf-buttons">
                        <button class="tf-btn" onclick="checkTF(this, 'myth', 2)">MYTH</button>
                        <button class="tf-btn" onclick="checkTF(this, 'truth', 2)">TRUTH</button>
                    </div>
                </div>

                <div class="tf-statement">
                    <div class="tf-text">You can only forgive if they apologize first</div>
                    <div class="tf-buttons">
                        <button class="tf-btn" onclick="checkTF(this, 'myth', 3)">MYTH</button>
                        <button class="tf-btn" onclick="checkTF(this, 'truth', 3)">TRUTH</button>
                    </div>
                </div>

                <div class="tf-statement">
                    <div class="tf-text">Forgiveness is different from reconciliation</div>
                    <div class="tf-buttons">
                        <button class="tf-btn" onclick="checkTF(this, 'myth', 4)">MYTH</button>
                        <button class="tf-btn" onclick="checkTF(this, 'truth', 4)">TRUTH</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Activity 4: Fill in Key Concepts -->
        <div class="activity">
            <h3>üìù Complete the Key Teaching</h3>
            <div class="activity-description">Fill in the blanks from Voddie's core definition:</div>
            
            <p style="font-size: 16px; line-height: 1.8;">
                "Forgiveness means <span class="fill-blank">
                    <input type="text" id="blank1" data-answer="cancelling">
                </span> a debt by refusing to withhold 
                <span class="fill-blank">
                    <input type="text" id="blank2" data-answer="attention">
                </span>, 
                <span class="fill-blank">
                    <input type="text" id="blank3" data-answer="affection">
                </span>, or 
                <span class="fill-blank">
                    <input type="text" id="blank4" data-answer="honor">
                </span> from someone who has wronged you."
            </p>
            <button class="hint-btn" onclick="showHints()">üí° Need hints?</button>
            <div class="hint" id="hints"></div>
            <div class="feedback" id="fillFeedback"></div>
        </div>

        <!-- Activity 5: Swipe Learning Cards -->
        <div class="activity">
            <h3>üëÜ Tap to Learn Key Principles</h3>
            <div class="activity-description">Tap each card to reveal important truths:</div>
            
            <div class="swipe-card" onclick="revealCard(this)">
                <div class="card-front">The Mathematical Equation of Intimacy</div>
                <div class="card-back">If you sin once per 3 interactions: Meeting 3x/month = 1 sin seen. Meeting 3x/day = 30 sins seen. Same sin rate, more forgiveness needed!</div>
            </div>

            <div class="swipe-card" onclick="revealCard(this)">
                <div class="card-front">The Chief of Sinners</div>
                <div class="card-back">Paul called himself the chief of sinners and wrote 2/3 of the New Testament. The problem isn't others' sin‚Äîit's our lack of forgiveness.</div>
            </div>

            <div class="swipe-card" onclick="revealCard(this)">
                <div class="card-front">The Cross Standard</div>
                <div class="card-back">If Christ's blood satisfies God for their sin, but you require more, you're saying you have higher standards than God.</div>
            </div>

            <div class="swipe-card" onclick="revealCard(this)">
                <div class="card-front">Forgiveness vs Reconciliation</div>
                <div class="card-back">Forgiveness is a lonely highway (you alone). Reconciliation is a two-way street (requires both). You can forgive even dead people!</div>
            </div>
        </div>

        <!-- Activity 6: Scripture Word Assembly -->
        <div class="activity">
            <h3>üìñ Build the Scripture</h3>
            <div class="activity-description">Click words in order to build Ephesians 4:32:</div>
            
            <div class="verse-builder" id="verseBuilder"></div>
            <div class="word-bank" id="wordBank">
                <span class="word-tile" onclick="addWord(this)">Be</span>
                <span class="word-tile" onclick="addWord(this)">kind</span>
                <span class="word-tile" onclick="addWord(this)">to</span>
                <span class="word-tile" onclick="addWord(this)">one</span>
                <span class="word-tile" onclick="addWord(this)">another,</span>
                <span class="word-tile" onclick="addWord(this)">tenderhearted,</span>
                <span class="word-tile" onclick="addWord(this)">forgiving</span>
                <span class="word-tile" onclick="addWord(this)">one</span>
                <span class="word-tile" onclick="addWord(this)">another,</span>
                <span class="word-tile" onclick="addWord(this)">as</span>
                <span class="word-tile" onclick="addWord(this)">God</span>
                <span class="word-tile" onclick="addWord(this)">in</span>
                <span class="word-tile" onclick="addWord(this)">Christ</span>
                <span class="word-tile" onclick="addWord(this)">forgave</span>
                <span class="word-tile" onclick="addWord(this)">you.</span>
            </div>
            <button class="hint-btn" onclick="resetVerse()">‚Üª Reset</button>
            <div class="feedback" id="verseFeedback"></div>
        </div>

        <!-- Activity 7: Cost of Unforgiveness Calculator -->
        <div class="activity">
            <h3>üí∞ Calculate the Cost</h3>
            <div class="activity-description">Check all the costs you're experiencing from unforgiveness:</div>
            
            <div class="cost-calculator">
                <div class="cost-item">
                    <label class="cost-label">Emotional exhaustion from holding grudges</label>
                    <input type="checkbox" class="cost-checkbox" onchange="calculateCost()">
                </div>
                <div class="cost-item">
                    <label class="cost-label">Questioning my own salvation</label>
                    <input type="checkbox" class="cost-checkbox" onchange="calculateCost()">
                </div>
                <div class="cost-item">
                    <label class="cost-label">Damaged relationships</label>
                    <input type="checkbox" class="cost-checkbox" onchange="calculateCost()">
                </div>
                <div class="cost-item">
                    <label class="cost-label">Loss of compassion for others</label>
                    <input type="checkbox" class="cost-checkbox" onchange="calculateCost()">
                </div>
                <div class="cost-item">
                    <label class="cost-label">Distance from God</label>
                    <input type="checkbox" class="cost-checkbox" onchange="calculateCost()">
                </div>
                <div class="cost-total" id="costTotal">Total Cost: Select items above</div>
            </div>
        </div>

        <!-- Activity 8: Scenario Sorting -->
        <div class="activity">
            <h3>üóÇÔ∏è Sort the Responses</h3>
            <div class="activity-description">Drag each response to show if it's true forgiveness or fake forgiveness:</div>
            
            <div class="sorting-container">
                <div class="sorting-item" draggable="true" data-type="fake">
                    "I forgive you, but you need to earn my trust back"
                </div>
                <div class="sorting-item" draggable="true" data-type="true">
                    "The debt is cancelled, you owe me nothing"
                </div>
                <div class="sorting-item" draggable="true" data-type="fake">
                    "I'm not mad, but I need some space from you"
                </div>
                <div class="sorting-item" draggable="true" data-type="true">
                    "I choose not to withhold my affection from you"
                </div>
                <div class="sorting-item" draggable="true" data-type="fake">
                    "I forgive, but I won't forget"
                </div>
                
                <div class="drop-zone" id="trueForgiveness">
                    <h4>‚úÖ True Forgiveness</h4>
                </div>
                
                <div class="drop-zone" id="fakeForgiveness">
                    <h4>‚ùå Fake Forgiveness</h4>
                </div>
            </div>
            <div class="feedback" id="sortingFeedback"></div>
        </div>

        <!-- Activity 9: Personal Application -->
        <div class="activity">
            <h3>üí≠ Personal Application</h3>
            <div class="activity-description">One question for honest reflection:</div>
            
            <div class="reflection-box">
                <div class="reflection-question">
                    Who came to mind during this worksheet? What specific attention, affection, or honor could you stop withholding from them this week?
                </div>
                <textarea class="reflection-input" id="personalReflection" placeholder="Be specific and honest..."></textarea>
            </div>
        </div>

        <!-- Copy Button -->
        <button class="copy-btn" onclick="copyAllResponses()">üìã Copy My Responses</button>
    </div>

    <script>
        let progress = 0;
        const totalActivities = 9;
        let matchedPairs = 0;
        let verseWords = [];
        let draggedItem = null;

        // Initialize punishment memory game
        const punishmentPairs = [
            {id: 1, text: "Withholding Attention", match: 2},
            {id: 2, text: "Silent treatment", match: 1},
            {id: 3, text: "Withholding Affection", match: 4},
            {id: 4, text: "Cold shoulder", match: 3},
            {id: 5, text: "Withholding Honor", match: 6},
            {id: 6, text: "No birthday call", match: 5}
        ];

        function initPunishmentGame() {
            const grid = document.getElementById('punishmentGrid');
            const shuffled = punishmentPairs.sort(() => Math.random() - 0.5);
            
            shuffled.forEach(item => {
                const card = document.createElement('div');
                card.className = 'punishment-card';
                card.textContent = '?';
                card.dataset.id = item.id;
                card.dataset.text = item.text;
                card.dataset.match = item.match;
                card.onclick = () => flipPunishmentCard(card);
                grid.appendChild(card);
            });
        }

        let firstPCard = null;
        function flipPunishmentCard(card) {
            if (card.classList.contains('flipped') || card.classList.contains('matched')) return;
            
            card.classList.add('flipped');
            card.textContent = card.dataset.text;
            
            if (!firstPCard) {
                firstPCard = card;
            } else {
                if (firstPCard.dataset.match === card.dataset.id || 
                    card.dataset.match === firstPCard.dataset.id) {
                    firstPCard.classList.add('matched');
                    card.classList.add('matched');
                    matchedPairs++;
                    
                    if (matchedPairs === 3) {
                        document.getElementById('matchFeedback').className = 'feedback correct';
                        document.getElementById('matchFeedback').textContent = '‚úÖ Perfect! You understand the three ways we punish.';
                        updateProgress();
                    }
                    firstPCard = null;
                } else {
                    setTimeout(() => {
                        firstPCard.classList.remove('flipped');
                        card.classList.remove('flipped');
                        firstPCard.textContent = '?';
                        card.textContent = '?';
                        firstPCard = null;
                    }, 1000);
                }
            }
        }

        // Slider functionality
        function moveSlider(event) {
            const container = event.currentTarget;
            const rect = container.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const percentage = (x / rect.width) * 100;
            
            const handle = document.getElementById('forgivenessHandle');
            handle.style.left = percentage + '%';
            
            const feedback = document.getElementById('sliderFeedback');
            feedback.style.display = 'block';
            
            if (percentage < 33) {
                handle.textContent = 'üò†';
                feedback.textContent = 'Unforgiveness: Actively punishing by withholding';
                feedback.style.background = '#f8d7da';
                feedback.style.color = '#721c24';
            } else if (percentage < 66) {
                handle.textContent = 'üòê';
                feedback.textContent = 'Partial: Said "I forgive" but still withholding';
                feedback.style.background = '#fff3cd';
                feedback.style.color = '#856404';
            } else {
                handle.textContent = 'üòä';
                feedback.textContent = 'True Forgiveness: Debt cancelled, nothing withheld!';
                feedback.style.background = '#d4edda';
                feedback.style.color = '#155724';
                updateProgress();
            }
        }

        // True/False checker
        const tfAnswers = {
            1: 'myth',  // Forgetting
            2: 'truth', // Greater intimacy
            3: 'myth',  // Need apology
            4: 'truth'  // Different from reconciliation
        };

        function checkTF(btn, answer, question) {
            const parent = btn.parentElement;
            const buttons = parent.querySelectorAll('.tf-btn');
            
            buttons.forEach(b => b.classList.remove('correct', 'incorrect'));
            
            if (answer === tfAnswers[question]) {
                btn.classList.add('correct');
                updateProgress();
            } else {
                btn.classList.add('incorrect');
                // Show correct answer
                buttons.forEach(b => {
                    if (b.textContent.toLowerCase() === tfAnswers[question].toUpperCase()) {
                        b.classList.add('correct');
                    }
                });
            }
        }

        // Fill in blanks
        const fillAnswers = ['cancelling', 'attention', 'affection', 'honor'];
        let hintLevel = 0;

        function showHints() {
            const hints = [
                'First letters: c___, a___, a___, h___',
                'Full hints: cancelling, attention, affection, honor'
            ];
            
            document.getElementById('hints').style.display = 'block';
            document.getElementById('hints').textContent = hints[Math.min(hintLevel++, 1)];
        }

        // Check fill-in-blanks
        document.querySelectorAll('.fill-blank input').forEach((input, index) => {
            input.addEventListener('input', function() {
                if (this.value.toLowerCase() === fillAnswers[index]) {
                    this.style.color = '#28a745';
                    checkAllFilled();
                }
            });
        });

        function checkAllFilled() {
            const allCorrect = Array.from(document.querySelectorAll('.fill-blank input'))
                .every((input, i) => input.value.toLowerCase() === fillAnswers[i]);
            
            if (allCorrect) {
                document.getElementById('fillFeedback').className = 'feedback correct';
                document.getElementById('fillFeedback').textContent = '‚úÖ Perfect! You know the definition!';
                updateProgress();
            }
        }

        // Swipe cards
        function revealCard(card) {
            if (!card.classList.contains('revealed')) {
                card.classList.add('revealed');
                updateProgress();
            }
        }

        // Scripture builder
        const correctVerse = ['Be', 'kind', 'to', 'one', 'another,', 'tenderhearted,', 
                              'forgiving', 'one', 'another,', 'as', 'God', 'in', 
                              'Christ', 'forgave', 'you.'];

        function addWord(tile) {
            if (!tile.classList.contains('used')) {
                tile.classList.add('used');
                verseWords.push(tile.textContent);
                document.getElementById('verseBuilder').textContent = verseWords.join(' ');
                
                if (verseWords.length === correctVerse.length) {
                    const isCorrect = verseWords.every((word, i) => word === correctVerse[i]);
                    if (isCorrect) {
                        document.getElementById('verseBuilder').classList.add('complete');
                        document.getElementById('verseFeedback').className = 'feedback correct';
                        document.getElementById('verseFeedback').textContent = '‚úÖ Perfect! Ephesians 4:32';
                        updateProgress();
                    } else {
                        document.getElementById('verseFeedback').className = 'feedback incorrect';
                        document.getElementById('verseFeedback').textContent = '‚ùå Not quite right. Try again!';
                        setTimeout(resetVerse, 2000);
                    }
                }
            }
        }

        function resetVerse() {
            verseWords = [];
            document.getElementById('verseBuilder').textContent = '';
            document.getElementById('verseBuilder').classList.remove('complete');
            document.querySelectorAll('.word-tile').forEach(tile => {
                tile.classList.remove('used');
            });
            document.getElementById('verseFeedback').style.display = 'none';
        }

        // Cost calculator
        function calculateCost() {
            const checked = document.querySelectorAll('.cost-checkbox:checked').length;
            const total = document.getElementById('costTotal');
            
            if (checked === 0) {
                total.textContent = 'Total Cost: Select items above';
                total.style.background = '#dc3545';
            } else if (checked <= 2) {
                total.textContent = `Moderate Cost: ${checked} areas affected`;
                total.style.background = '#ffc107';
                total.style.color = '#000';
            } else {
                total.textContent = `High Cost: ${checked} areas - Unforgiveness is destroying your peace!`;
                total.style.background = '#dc3545';
                total.style.color = '#fff';
                updateProgress();
            }
        }

        // Drag and drop sorting
        document.querySelectorAll('.sorting-item').forEach(item => {
            item.addEventListener('dragstart', function(e) {
                draggedItem = this;
                this.classList.add('dragging');
            });
            
            item.addEventListener('dragend', function() {
                this.classList.remove('dragging');
            });
        });

        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('drag-over');
            });
            
            zone.addEventListener('dragleave', function() {
                this.classList.remove('drag-over');
            });
            
            zone.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('drag-over');
                
                if (draggedItem) {
                    this.appendChild(draggedItem);
                    checkSorting();
                }
            });
        });

        function checkSorting() {
            const trueZone = document.getElementById('trueForgiveness');
            const fakeZone = document.getElementById('fakeForgiveness');
            
            const trueItems = trueZone.querySelectorAll('.sorting-item');
            const fakeItems = fakeZone.querySelectorAll('.sorting-item');
            
            let correctTrue = 0;
            let correctFake = 0;
            
            trueItems.forEach(item => {
                if (item.dataset.type === 'true') correctTrue++;
            });
            
            fakeItems.forEach(item => {
                if (item.dataset.type === 'fake') correctFake++;
            });
            
            if (correctTrue === 2 && correctFake === 3) {
                document.getElementById('sortingFeedback').className = 'feedback correct';
                document.getElementById('sortingFeedback').textContent = '‚úÖ Perfect sorting! You understand true vs fake forgiveness!';
                updateProgress();
            }
        }

        // Progress tracking
        function updateProgress() {
            progress++;
            const percentage = Math.min((progress / totalActivities) * 100, 100);
            document.getElementById('progressBar').style.width = percentage + '%';
        }

        // Copy responses
        function copyAllResponses() {
            let responses = "FORGIVENESS WORKSHEET RESPONSES\n\n";
            
            // Get filled blanks
            responses += "Definition: ";
            document.querySelectorAll('.fill-blank input').forEach(input => {
                responses += input.value + " ";
            });
            responses += "\n\n";
            
            // Get cost items
            responses += "Costs I'm experiencing:\n";
            document.querySelectorAll('.cost-checkbox:checked').forEach(cb => {
                responses += "- " + cb.parentElement.querySelector('.cost-label').textContent + "\n";
            });
            
            // Get reflection
            responses += "\nPersonal Application:\n";
            responses += document.getElementById('personalReflection').value;
            
            navigator.clipboard.writeText(responses).then(() => {
                alert('‚úÖ Responses copied to clipboard!');
            });
        }

        // Initialize on load
        initPunishmentGame();
        
        // Track reflection input
        document.getElementById('personalReflection').addEventListener('input', function() {
            if (this.value.length > 20) {
                updateProgress();
            }
        });
    </script>
</body>
</html>