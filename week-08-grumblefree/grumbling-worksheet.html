<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Grumble-Free for His Glory - Interactive Worksheet</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px 15px;
            min-height: 100vh;
            font-size: 18px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        h1 {
            color: #764ba2;
            font-size: 32px;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .intro {
            background: #f0f4ff;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .intro p {
            color: #555;
            font-size: 20px;
            margin-bottom: 10px;
        }
        
        .learning-note {
            color: #667eea;
            font-weight: bold;
            font-size: 22px;
        }
        
        .section {
            margin-bottom: 40px;
            padding: 20px;
            background: #fafbff;
            border-radius: 15px;
            border: 2px solid #e0e7ff;
        }
        
        .section-title {
            color: #764ba2;
            font-size: 24px;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .fill-blank {
            margin-bottom: 20px;
            font-size: 20px;
            line-height: 2;
        }
        
        .blank-input {
            border: none;
            border-bottom: 2px solid #667eea;
            padding: 5px 10px;
            font-size: 20px;
            width: 200px;
            background: white;
            border-radius: 5px;
            margin: 0 5px;
            transition: all 0.3s ease;
        }
        
        .blank-input.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }
        
        .blank-input.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }
        
        .hint-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 16px;
            cursor: pointer;
            margin-left: 10px;
            transition: all 0.3s ease;
        }
        
        .hint-btn:hover {
            background: #764ba2;
            transform: scale(1.05);
        }
        
        .scripture-match {
            margin-bottom: 20px;
        }
        
        .match-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .match-text {
            flex: 1;
            font-size: 18px;
            min-width: 200px;
        }
        
        .match-select {
            padding: 10px;
            font-size: 18px;
            border: 2px solid #667eea;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            min-width: 180px;
        }
        
        .match-select.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }
        
        .match-select.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }
        
        .true-false {
            margin-bottom: 25px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .tf-statement {
            font-size: 20px;
            margin-bottom: 15px;
        }
        
        .tf-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        .tf-btn {
            padding: 12px 30px;
            font-size: 20px;
            border: 2px solid #667eea;
            background: white;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .tf-btn:hover {
            transform: scale(1.05);
            background: #f0f4ff;
        }
        
        .tf-btn.selected.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }
        
        .tf-btn.selected.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }
        
        .swipe-cards {
            position: relative;
            height: 300px;
            margin-bottom: 20px;
        }
        
        .card {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 30px;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .card-number {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 18px;
            opacity: 0.8;
        }
        
        .card-content {
            font-size: 24px;
            font-weight: bold;
        }
        
        .card-hint {
            font-size: 18px;
            margin-top: 20px;
            opacity: 0.9;
        }
        
        .swipe-instruction {
            text-align: center;
            color: #667eea;
            font-size: 18px;
            margin-top: 10px;
        }
        
        .tap-reveal {
            margin-bottom: 20px;
        }
        
        .scripture-box {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .scripture-box:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .scripture-prompt {
            font-size: 22px;
            font-weight: bold;
        }
        
        .scripture-text {
            font-size: 20px;
            line-height: 1.6;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .memory-game {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .memory-card {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .memory-card:hover {
            transform: scale(1.05);
        }
        
        .memory-card-content {
            color: white;
            font-size: 16px;
            text-align: center;
            padding: 10px;
            display: none;
        }
        
        .memory-card.flipped .memory-card-content {
            display: block;
        }
        
        .memory-card.matched {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            cursor: default;
        }
        
        .memory-card-back {
            position: absolute;
            font-size: 40px;
        }
        
        .memory-card.flipped .memory-card-back {
            display: none;
        }
        
        .comparison-slider {
            margin-bottom: 30px;
        }
        
        .slider-container {
            position: relative;
            height: 80px;
            background: linear-gradient(to right, #f44336 0%, #ff9800 35%, #ffc107 50%, #8bc34a 65%, #4caf50 100%);
            border-radius: 40px;
            margin: 20px 0;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .slider-track {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
        }
        
        .slider-label {
            color: white;
            font-weight: bold;
            font-size: 18px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .slider-handle {
            position: absolute;
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 50%;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            cursor: grab;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: transform 0.2s ease;
            touch-action: none;
        }
        
        .slider-handle:active {
            cursor: grabbing;
            transform: translateX(-50%) scale(1.1);
        }
        
        .comparison-item {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .comparison-situation {
            font-size: 20px;
            color: #333;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .response-display {
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            font-size: 18px;
            min-height: 60px;
            transition: all 0.3s ease;
        }
        
        .response-display.grumbling {
            background: #ffebee;
            color: #c62828;
            border: 2px solid #ef5350;
        }
        
        .response-display.neutral {
            background: #fff3e0;
            color: #e65100;
            border: 2px solid #ff9800;
        }
        
        .response-display.grateful {
            background: #e8f5e9;
            color: #1b5e20;
            border: 2px solid #4caf50;
        }
        
        .slider-instruction {
            text-align: center;
            color: #667eea;
            font-size: 18px;
            margin-bottom: 15px;
        }
        
        .scenario {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .scenario-text {
            font-size: 20px;
            color: #333;
            margin-bottom: 20px;
            font-style: italic;
        }
        
        .response-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .response-btn {
            padding: 15px 20px;
            background: #f0f4ff;
            border: 2px solid #667eea;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            text-align: left;
        }
        
        .response-btn:hover {
            background: #e0e7ff;
            transform: translateX(5px);
        }
        
        .response-btn.selected {
            background: #667eea;
            color: white;
        }
        
        .response-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            font-size: 18px;
            display: none;
        }
        
        .response-feedback.good {
            background: #e8f5e9;
            color: #2e7d32;
            border: 2px solid #4caf50;
        }
        
        .response-feedback.better {
            background: #fff3e0;
            color: #e65100;
            border: 2px solid #ff9800;
        }
        
        .reflection-area {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            font-size: 18px;
            border: 2px solid #667eea;
            border-radius: 10px;
            resize: vertical;
            font-family: inherit;
            line-height: 1.6;
        }
        
        .copy-btn {
            background: #764ba2;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 20px;
            cursor: pointer;
            margin-top: 30px;
            width: 100%;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .copy-btn:hover {
            background: #667eea;
            transform: scale(1.02);
        }
        
        .copied-message {
            text-align: center;
            color: #4caf50;
            font-size: 20px;
            margin-top: 15px;
            display: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🌟 Grumble-Free for His Glory</h1>
        
        <div class="intro">
            <p>Welcome to your interactive learning journey!</p>
            <p class="learning-note">📚 This is a LEARNING tool, not a test!</p>
            <p>Take your time and enjoy discovering truths about living without grumbling.</p>
        </div>

        <!-- Section 1: Fill in the Blanks -->
        <div class="section">
            <h2 class="section-title">📝 Complete the Truth</h2>
            <p style="margin-bottom: 20px;">Fill in the missing words. Need help? Tap hint once for first 3 letters, twice for the whole word!</p>
            
            <div class="fill-blank">
                1. "Do all things without <input type="text" class="blank-input" data-answer="grumbling" placeholder="___________"> or disputing." 
                <button class="hint-btn" onclick="showHint(this, 'gru')">Hint</button>
            </div>
            
            <div class="fill-blank">
                2. When we don't grumble, we shine as <input type="text" class="blank-input" data-answer="lights" placeholder="_______"> in a dark world.
                <button class="hint-btn" onclick="showHint(this, 'lig')">Hint</button>
            </div>
            
            <div class="fill-blank">
                3. Disputing means having an inner <input type="text" class="blank-input" data-answer="lawyer" placeholder="_______"> that argues with God.
                <button class="hint-btn" onclick="showHint(this, 'law')">Hint</button>
            </div>
            
            <div class="fill-blank">
                4. Jesus suffered without opening His <input type="text" class="blank-input" data-answer="mouth" placeholder="_______"> to complain.
                <button class="hint-btn" onclick="showHint(this, 'mou')">Hint</button>
            </div>
        </div>

        <!-- Section 2: Scripture Matching -->
        <div class="section">
            <h2 class="section-title">📖 Match the Scripture</h2>
            <p style="margin-bottom: 20px;">Connect each truth with its biblical reference:</p>
            
            <div class="scripture-match">
                <div class="match-item">
                    <span class="match-text">"Do all things without grumbling..."</span>
                    <select class="match-select" data-correct="phil214">
                        <option value="">Select...</option>
                        <option value="phil214">Philippians 2:14</option>
                        <option value="matt511">Matthew 5:11</option>
                        <option value="isa537">Isaiah 53:7</option>
                    </select>
                </div>
                
                <div class="match-item">
                    <span class="match-text">"He was oppressed... yet opened not his mouth"</span>
                    <select class="match-select" data-correct="isa537">
                        <option value="">Select...</option>
                        <option value="phil214">Philippians 2:14</option>
                        <option value="matt511">Matthew 5:11</option>
                        <option value="isa537">Isaiah 53:7</option>
                    </select>
                </div>
                
                <div class="match-item">
                    <span class="match-text">"Rejoice when others revile you..."</span>
                    <select class="match-select" data-correct="matt511">
                        <option value="">Select...</option>
                        <option value="phil214">Philippians 2:14</option>
                        <option value="matt511">Matthew 5:11</option>
                        <option value="isa537">Isaiah 53:7</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Section 3: True/False -->
        <div class="section">
            <h2 class="section-title">✅ True or False?</h2>
            
            <div class="true-false">
                <p class="tf-statement">Grumbling is just a small sin that doesn't really matter.</p>
                <div class="tf-buttons">
                    <button class="tf-btn" onclick="checkTrueFalse(this, false)">True</button>
                    <button class="tf-btn" onclick="checkTrueFalse(this, true)">False</button>
                </div>
            </div>
            
            <div class="true-false">
                <p class="tf-statement">Christians shine brightest when they have joy in suffering.</p>
                <div class="tf-buttons">
                    <button class="tf-btn" onclick="checkTrueFalse(this, true)">True</button>
                    <button class="tf-btn" onclick="checkTrueFalse(this, false)">False</button>
                </div>
            </div>
            
            <div class="true-false">
                <p class="tf-statement">Good works alone are enough to bring glory to God.</p>
                <div class="tf-buttons">
                    <button class="tf-btn" onclick="checkTrueFalse(this, false)">True</button>
                    <button class="tf-btn" onclick="checkTrueFalse(this, true)">False</button>
                </div>
            </div>
        </div>

        <!-- Section 4: Swipe Learning Cards -->
        <div class="section">
            <h2 class="section-title">👆 Swipe Through Key Truths</h2>
            <div class="swipe-cards" id="swipeCards">
                <div class="card" onclick="nextCard()">
                    <span class="card-number">1/4</span>
                    <div class="card-content">Grumbling reveals our deepest heart issues</div>
                    <div class="card-hint">Click to continue →</div>
                </div>
            </div>
            <p class="swipe-instruction">Tap the card to move to the next truth</p>
        </div>

        <!-- Section 5: Tap to Reveal Scripture -->
        <div class="section">
            <h2 class="section-title">📱 Tap to Reveal</h2>
            <div class="tap-reveal">
                <div class="scripture-box" onclick="revealScripture(this)">
                    <div class="scripture-prompt">What does Isaiah 53:7 say about Jesus?</div>
                    <div class="scripture-text">"He was oppressed and afflicted, yet he did not open his mouth; he was led like a lamb to the slaughter, and as a sheep before its shearers is silent, so he did not open his mouth."</div>
                </div>
            </div>
            
            <div class="tap-reveal">
                <div class="scripture-box" onclick="revealScripture(this)">
                    <div class="scripture-prompt">How does Paul describe contentment?</div>
                    <div class="scripture-text">"I have learned in whatever situation I am to be content. I know how to be brought low, and I know how to abound." (Phil 4:11-12)</div>
                </div>
            </div>
        </div>

        <!-- Section 6: Memory Match Game -->
        <div class="section">
            <h2 class="section-title">🎮 Memory Match</h2>
            <p style="margin-bottom: 20px;">Find the matching pairs!</p>
            <div class="memory-game" id="memoryGame">
                <!-- Cards will be generated by JavaScript -->
            </div>
        </div>

        <!-- Section 7: Interactive Comparison Slider -->
        <div class="section">
            <h2 class="section-title">⚖️ Grumbling vs. Gratitude Slider</h2>
            <p class="slider-instruction">Drag the slider to see how the same situation can be viewed differently!</p>
            
            <div class="comparison-item">
                <div class="comparison-situation">Situation: You're stuck in traffic and running late</div>
                <div class="slider-container">
                    <div class="slider-track">
                        <span class="slider-label">Grumbling</span>
                        <span class="slider-label">Grateful</span>
                    </div>
                    <div class="slider-handle" data-slider="1">😐</div>
                </div>
                <div class="response-display neutral" id="response1">
                    "This is annoying, but I'll make the best of it."
                </div>
            </div>
            
            <div class="comparison-item">
                <div class="comparison-situation">Situation: Your plans got cancelled last minute</div>
                <div class="slider-container">
                    <div class="slider-track">
                        <span class="slider-label">Grumbling</span>
                        <span class="slider-label">Grateful</span>
                    </div>
                    <div class="slider-handle" data-slider="2">😐</div>
                </div>
                <div class="response-display neutral" id="response2">
                    "Oh well, I'll find something else to do."
                </div>
            </div>
            
            <div class="comparison-item">
                <div class="comparison-situation">Situation: Someone criticized your work unfairly</div>
                <div class="slider-container">
                    <div class="slider-track">
                        <span class="slider-label">Grumbling</span>
                        <span class="slider-label">Grateful</span>
                    </div>
                    <div class="slider-handle" data-slider="3">😐</div>
                </div>
                <div class="response-display neutral" id="response3">
                    "That wasn't very nice, but I'll move on."
                </div>
            </div>
        </div>

        <!-- Section 8: What Would You Say Scenarios -->
        <div class="section">
            <h2 class="section-title">💬 What Would You Say?</h2>
            
            <div class="scenario">
                <p class="scenario-text">"Your coworker constantly complains about everything at work. They turn to you and say, 'This job is terrible! Don't you think management is awful?'"</p>
                <div class="response-options">
                    <button class="response-btn" onclick="checkResponse(this, 'good')">
                        "I try to focus on being thankful for having work. Would you like to grab coffee and talk about what's really bothering you?"
                    </button>
                    <button class="response-btn" onclick="checkResponse(this, 'better')">
                        "Yeah, you're right! This place is the worst. I hate it here too!"
                    </button>
                </div>
                <div class="response-feedback"></div>
            </div>
            
            <div class="scenario">
                <p class="scenario-text">"You're stuck in terrible traffic and will be late for an important meeting. Your first thought is to complain. What do you do instead?"</p>
                <div class="response-options">
                    <button class="response-btn" onclick="checkResponse(this, 'better')">
                        Call and yell at someone about how unfair this is.
                    </button>
                    <button class="response-btn" onclick="checkResponse(this, 'good')">
                        Take a deep breath, pray for peace, and use the time to prepare mentally for the meeting.
                    </button>
                </div>
                <div class="response-feedback"></div>
            </div>
        </div>

        <!-- Section 9: Personal Reflection -->
        <div class="section">
            <h2 class="section-title">💭 Personal Reflection</h2>
            <p style="margin-bottom: 20px;">Take a moment to reflect on these questions:</p>
            
            <p style="font-size: 20px; margin-bottom: 10px;"><strong>1. What situation in your life right now tempts you to grumble the most?</strong></p>
            <textarea class="reflection-area" placeholder="Type your thoughts here..."></textarea>
            
            <p style="font-size: 20px; margin: 20px 0 10px;"><strong>2. How can remembering Jesus's example help you respond with joy instead of complaints?</strong></p>
            <textarea class="reflection-area" placeholder="Type your thoughts here..."></textarea>
            
            <p style="font-size: 20px; margin: 20px 0 10px;"><strong>3. What's one specific way you can "shine as a light" this week by choosing joy over grumbling?</strong></p>
            <textarea class="reflection-area" placeholder="Type your thoughts here..."></textarea>
        </div>

        <!-- Copy Responses Button -->
        <button class="copy-btn" onclick="copyAllResponses()">📋 Copy All My Responses</button>
        <p class="copied-message" id="copiedMessage">✅ Responses copied to clipboard!</p>
    </div>

    <script>
        // Fill in the blanks functionality
        document.querySelectorAll('.blank-input').forEach(input => {
            input.addEventListener('input', function() {
                const answer = this.getAttribute('data-answer').toLowerCase();
                const userInput = this.value.toLowerCase().trim();
                
                if (userInput === answer) {
                    this.classList.add('correct');
                    this.classList.remove('incorrect');
                } else if (userInput.length >= answer.length) {
                    this.classList.add('incorrect');
                    this.classList.remove('correct');
                } else {
                    this.classList.remove('correct', 'incorrect');
                }
            });
        });

        // Hint functionality with tap counting
        const hintCounts = new Map();
        
        function showHint(button, hint) {
            const input = button.previousElementSibling;
            const answer = input.getAttribute('data-answer');
            const buttonId = Array.from(document.querySelectorAll('.hint-btn')).indexOf(button);
            
            if (!hintCounts.has(buttonId)) {
                hintCounts.set(buttonId, 0);
            }
            
            const count = hintCounts.get(buttonId) + 1;
            hintCounts.set(buttonId, count);
            
            if (count === 1) {
                input.value = hint;
            } else {
                input.value = answer;
                hintCounts.set(buttonId, 0); // Reset count
            }
            
            input.focus();
            input.dispatchEvent(new Event('input')); // Trigger validation
        }

        // Scripture matching functionality
        document.querySelectorAll('.match-select').forEach(select => {
            select.addEventListener('change', function() {
                const correct = this.getAttribute('data-correct');
                if (this.value === correct) {
                    this.classList.add('correct');
                    this.classList.remove('incorrect');
                } else if (this.value !== '') {
                    this.classList.add('incorrect');
                    this.classList.remove('correct');
                }
            });
        });

        // True/False functionality
        function checkTrueFalse(button, isCorrect) {
            const buttons = button.parentElement.querySelectorAll('.tf-btn');
            buttons.forEach(btn => btn.classList.remove('selected', 'correct', 'incorrect'));
            
            button.classList.add('selected');
            if (isCorrect) {
                button.classList.add('correct');
            } else {
                button.classList.add('incorrect');
            }
        }

        // Swipe cards data
        const cardData = [
            { number: "1/4", content: "Grumbling reveals our deepest heart issues", hint: "Click to continue →" },
            { number: "2/4", content: "Jesus never complained, even in suffering", hint: "Click to continue →" },
            { number: "3/4", content: "Joy in trials makes us shine like stars", hint: "Click to continue →" },
            { number: "4/4", content: "The Holy Spirit empowers us to live grumble-free", hint: "You've completed the cards! 🎉" }
        ];
        let currentCard = 0;

        function nextCard() {
            currentCard = (currentCard + 1) % cardData.length;
            const card = document.querySelector('.card');
            card.style.transform = 'translateX(-100%)';
            
            setTimeout(() => {
                card.style.transition = 'none';
                card.style.transform = 'translateX(100%)';
                
                setTimeout(() => {
                    const data = cardData[currentCard];
                    card.querySelector('.card-number').textContent = data.number;
                    card.querySelector('.card-content').textContent = data.content;
                    card.querySelector('.card-hint').textContent = data.hint;
                    
                    card.style.transition = 'transform 0.3s ease';
                    card.style.transform = 'translateX(0)';
                }, 50);
            }, 300);
        }

        // Tap to reveal functionality
        function revealScripture(box) {
            const prompt = box.querySelector('.scripture-prompt');
            const text = box.querySelector('.scripture-text');
            
            if (text.style.display === 'none' || text.style.display === '') {
                prompt.style.display = 'none';
                text.style.display = 'block';
            } else {
                prompt.style.display = 'block';
                text.style.display = 'none';
            }
        }

        // Memory game setup
        const memoryPairs = [
            { id: 1, text: "Do all things" },
            { id: 1, text: "without grumbling" },
            { id: 2, text: "Shine as" },
            { id: 2, text: "lights" },
            { id: 3, text: "Joy in" },
            { id: 3, text: "suffering" }
        ];

        let flippedCards = [];
        let matchedPairs = 0;

        function initMemoryGame() {
            const gameContainer = document.getElementById('memoryGame');
            const shuffled = memoryPairs.sort(() => Math.random() - 0.5);
            
            shuffled.forEach((pair, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.pairId = pair.id;
                card.innerHTML = `
                    <div class="memory-card-back">?</div>
                    <div class="memory-card-content">${pair.text}</div>
                `;
                card.addEventListener('click', () => flipCard(card));
                gameContainer.appendChild(card);
            });
        }

        function flipCard(card) {
            if (card.classList.contains('flipped') || card.classList.contains('matched') || flippedCards.length >= 2) {
                return;
            }
            
            card.classList.add('flipped');
            flippedCards.push(card);
            
            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 800);
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            
            if (card1.dataset.pairId === card2.dataset.pairId) {
                card1.classList.add('matched');
                card2.classList.add('matched');
                matchedPairs++;
                
                if (matchedPairs === 3) {
                    setTimeout(() => {
                        alert('🎉 Great job! You matched all pairs!');
                    }, 500);
                }
            } else {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
            }
            
            flippedCards = [];
        }

        initMemoryGame();

        // Comparison Slider functionality
        const sliderResponses = {
            1: {
                grumbling: ["😤", "This is so unfair! Why does this always happen to me? Everything is going wrong!"],
                neutral: ["😐", "This is annoying, but I'll make the best of it."],
                grateful: ["😊", "Thank You God for this time to pray and listen to worship music. Maybe someone needs me to arrive exactly when I will."]
            },
            2: {
                grumbling: ["😠", "People are so unreliable! I can't count on anyone! My whole day is ruined!"],
                neutral: ["😐", "Oh well, I'll find something else to do."],
                grateful: ["😄", "This unexpected free time is a gift! Maybe God has something better in store, or someone else needs my help today."]
            },
            3: {
                grumbling: ["😡", "They don't appreciate anything I do! I'm never good enough! Why do I even try?"],
                neutral: ["😐", "That wasn't very nice, but I'll move on."],
                grateful: ["🙏", "Lord, help me learn from any truth in this feedback. Thank You for the chance to grow in humility and grace."]
            }
        };

        // Initialize sliders
        document.querySelectorAll('.slider-handle').forEach(handle => {
            let isDragging = false;
            let startX = 0;
            let currentX = 0;
            
            // Mouse events
            handle.addEventListener('mousedown', startDrag);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', endDrag);
            
            // Touch events
            handle.addEventListener('touchstart', startDrag);
            document.addEventListener('touchmove', drag);
            document.addEventListener('touchend', endDrag);
            
            function startDrag(e) {
                isDragging = true;
                startX = e.type.includes('mouse') ? e.clientX : e.touches[0].clientX;
                const rect = handle.parentElement.getBoundingClientRect();
                currentX = handle.offsetLeft + 30; // 30 is half the handle width
            }
            
            function drag(e) {
                if (!isDragging) return;
                e.preventDefault();
                
                const clientX = e.type.includes('mouse') ? e.clientX : e.touches[0].clientX;
                const deltaX = clientX - startX;
                const container = handle.parentElement;
                const newX = Math.max(30, Math.min(container.offsetWidth - 30, currentX + deltaX));
                
                handle.style.left = `${newX}px`;
                handle.style.transform = 'translateX(-50%)';
                
                updateSliderResponse(handle, newX, container.offsetWidth);
            }
            
            function endDrag() {
                isDragging = false;
            }
        });

        function updateSliderResponse(handle, position, containerWidth) {
            const sliderId = handle.getAttribute('data-slider');
            const responseDisplay = document.getElementById(`response${sliderId}`);
            const responses = sliderResponses[sliderId];
            
            const percentage = (position - 30) / (containerWidth - 60);
            
            if (percentage < 0.33) {
                responseDisplay.className = 'response-display grumbling';
                responseDisplay.textContent = responses.grumbling[1];
                handle.textContent = responses.grumbling[0];
            } else if (percentage < 0.67) {
                responseDisplay.className = 'response-display neutral';
                responseDisplay.textContent = responses.neutral[1];
                handle.textContent = responses.neutral[0];
            } else {
                responseDisplay.className = 'response-display grateful';
                responseDisplay.textContent = responses.grateful[1];
                handle.textContent = responses.grateful[0];
            }
        }

        // Scenario responses
        function checkResponse(button, quality) {
            const buttons = button.parentElement.querySelectorAll('.response-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');
            
            const feedback = button.parentElement.nextElementSibling;
            feedback.style.display = 'block';
            
            if (quality === 'good') {
                feedback.className = 'response-feedback good';
                feedback.textContent = '✅ Great response! This shows a heart free from grumbling and full of grace.';
            } else {
                feedback.className = 'response-feedback better';
                feedback.textContent = '🤔 This response includes grumbling. How could you respond with more joy and trust in God?';
            }
        }

        // Copy all responses functionality
        function copyAllResponses() {
            let allResponses = "My Grumble-Free Learning Responses\n\n";
            
            // Collect fill-in-the-blank answers
            allResponses += "Fill in the Blanks:\n";
            document.querySelectorAll('.blank-input').forEach((input, index) => {
                allResponses += `${index + 1}. ${input.value || '(not filled)'}\n`;
            });
            
            // Collect reflection answers
            allResponses += "\nPersonal Reflections:\n";
            document.querySelectorAll('.reflection-area').forEach((textarea, index) => {
                if (textarea.value) {
                    allResponses += `\nQuestion ${index + 1}:\n${textarea.value}\n`;
                }
            });
            
            // Copy to clipboard
            navigator.clipboard.writeText(allResponses).then(() => {
                document.getElementById('copiedMessage').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('copiedMessage').style.display = 'none';
                }, 3000);
            });
        }
    </script>
</body>
</html>